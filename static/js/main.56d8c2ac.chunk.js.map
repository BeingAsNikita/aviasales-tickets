{"version":3,"sources":["Components/CustomCheckbox/CustomCheckbox.jsx","Components/TransferFilter/TransferFilter.jsx","Components/PriceFilter/PriceFilter.jsx","utils/getTime.js","Components/Ticket/Ticket.jsx","Components/TicketsList/TicketsList.jsx","Api/api.js","utils/filters.js","Store/appReduser.js","App.js","Store/store.js","index.js","assets/imgs/logo.svg"],"names":["CustomCheckbox","type","name","text","filters","onChange","className","htmlFor","id","e","checked","filtersCheckbox","TransferFilter","map","filter","key","PriceFilter","price","formatDate","date","getTime","duration","d","Date","arrivalHour","Math","floor","getHours","getMinutes","arrivalMinutes","departureHour","departureMinutes","durationHours","durationMinutes","transfersText","Ticket","carrier","segments","timeIn","timeOut","onClick","console","log","src","alt","origin","destination","stops","length","join","TicketsList","newTickets","tickets","slice","ticket","instance","axios","baseURL","axiosRetry","retries","API","get","filtration","items","newItems","sort","a","b","all","no","item","one","two","three","initialState","initialized","searchId","stop","getSearchingIdSuccess","payload","getTicketsSuccess","data","getTickets","dispatch","status","appReduser","state","action","concat","connect","app","getSearchId","filterSuccess","useState","setFilters","setNewTickets","useEffect","onFilterChangeHandler","newFilters","i","checkboxToggle","target","logo","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.56d8c2ac.chunk.js","sourcesContent":["import React from 'react';\nimport './CustomCheckbox.scss';\n\nconst CustomCheckbox = ({ type, name, text, filters, onChange }) => {\n\n   /*  console.log(filters)\n    console.log(filters[name] + ' ' + name) */\n\n    return (\n        <li className=\"customCheckbox\">\n            <label className=\"customCheckbox__label\" htmlFor={name}>\n                <input className=\"visually-hidden\" type={type} \n                name={name} id={name} \n                onChange={e => onChange(e)}\n                checked={filters[name]}/>\n                <span className=\"customCheckbox__fake\"></span>\n                <span>{text}</span>\n                </label>\n        </li>\n    )\n}\n\nexport default CustomCheckbox;\n","import React from 'react';\nimport './TransferFilter.scss';\nimport CustomCheckbox from '../CustomCheckbox/CustomCheckbox';\n\nconst filtersCheckbox = [\n  {\n    name: 'all',\n    type: 'checkbox',\n    text: 'Все'\n  },\n  {\n    name: 'no',\n    type: 'checkbox',\n    text: 'Без пересадок'\n  },\n  {\n    name: 'one',\n    type: 'checkbox',\n    text: '1 пересадка'\n  },\n  {\n    name: 'two',\n    type: 'checkbox',\n    text: '2 пересадки'\n  },\n  {\n    name: 'three',\n    type: 'checkbox',\n    text: '3 пересадки'\n  }\n]\n\nconst TransferFilter = ({ onChange, filters }) => {\n  return (\n    <>\n      <div className=\"transferFilter\">\n        <p className=\"transferFilter__title\">Количество пересадок</p>\n        <ul>\n          {filtersCheckbox.map(filter => <CustomCheckbox\n            {...filter} key={filter.name}\n            filters={filters}\n            onChange={onChange} />)}\n        </ul>\n      </div>\n    </>\n  );\n}\n\nexport default TransferFilter;\n","import React from 'react';\nimport './PriceFilter.scss';\n\nconst PriceFilter = ({ type, name, text, onChange, filters }) => {\n    return (\n        <div className=\"priceFilter\">\n            <label className=\"priceFilter__label\" htmlFor=\"isCheap\">\n                <input className=\"visually-hidden\" type=\"radio\" name=\"price\" id=\"isCheap\"\n                    checked={filters.price === 'isCheap'}\n                    onChange={e => onChange(e)} />\n                <span className=\"priceFilter__fake priceFilter__fake--left\">Самый дешевый</span>\n\n            </label>\n\n            <label className=\"priceFilter__label\" htmlFor=\"isFast\">\n                <input className=\"visually-hidden\" type=\"radio\" name=\"price\" id=\"isFast\"\n                    checked={filters.price === 'isFast'}\n                    onChange={e => onChange(e)} />\n                <span className=\"priceFilter__fake priceFilter__fake--right\"> Самый быстрый</span>\n\n            </label>\n\n\n        </div>\n    )\n}\n\nexport default PriceFilter;\n","const formatDate = (date) => {\n    if (date < 10) return '0' + date\n    return date + \"\"\n}\n\nexport const getTime = (date, duration) => {\n\n    let d = new Date(date);\n    let arrivalHour = Math.floor((d.getHours() * 60 + d.getMinutes() + duration) / 60);\n    let arrivalMinutes = Math.floor( ((d.getHours() * 60 + d.getMinutes() + duration) / 60 - arrivalHour) * 60);\n    if (arrivalHour >= 24) {\n        arrivalHour = arrivalHour - 24\n    }\n    return {\n        departureHour: formatDate(d.getHours()),\n        departureMinutes: formatDate(d.getMinutes()),\n        arrivalHour: formatDate(arrivalHour),\n        arrivalMinutes: formatDate(arrivalMinutes),\n        durationHours: formatDate(Math.floor(duration / 60)),\n        durationMinutes: formatDate(duration % 60),\n    }\n}","import React from 'react';\nimport './Ticket.scss';\nimport { getTime } from '../../utils/getTime';\n\nconst transfersText = {\n    \"0\": 'Без пересадок',\n    \"1\": '1 пересадка',\n    \"2\": '2 пересадки',\n    \"3\": '3 пересадки',\n}\n\nconst Ticket = ({ price, carrier, segments }) => {\n\n    let timeIn = getTime(segments[0].date, segments[0].duration);\n    let timeOut = getTime(segments[1].date, segments[1].duration);\n\n    return (\n            <li className=\"ticket\" onClick={() => console.log(segments)}>\n                <div className=\"ticket__header\">\n                    <div className=\"ticket__price\">\n                        {`${price} Р`}\n                    </div>\n\n                    <div className=\"ticket__logo\">\n                        <img src={`https://pics.avs.io/99/36/${carrier}.png`} alt={`logo ${carrier}`} />\n                    </div>\n                </div>\n\n                <div className=\"ticket__wrap\">\n\n                    <div className=\"ticket__inner\">\n\n                        <span className=\"ticket__subtitle\">\n                            {`${segments[0].origin} – ${segments[0].destination}`}\n                        </span>\n\n                        <span>\n                            {`\n                    ${timeIn.departureHour}:${timeIn.departureMinutes} – \n                    ${timeIn.arrivalHour}:${timeIn.arrivalMinutes} \n                    `}\n                        </span>\n\n                    </div>\n                    <div className=\"ticket__inner\">\n                        <span className=\"ticket__subtitle\">В пути</span>\n                        <span>\n                            {`\n                        ${timeIn.durationHours}ч ${timeIn.durationMinutes}м\n                    `}\n                        </span>\n                    </div>\n\n                    <div className=\"ticket__inner\">\n\n\n                        <span className=\"ticket__subtitle\">{`${transfersText[segments[0].stops.length]}`}</span>\n                        <span>\n                            {segments[0].stops.join()}\n                        </span>\n                    </div>\n\n\n\n                </div>\n\n                <div className=\"ticket__wrap\">\n                    <div className=\"ticket__inner\">\n                        <span className=\"ticket__subtitle\">\n                            {`${segments[1].origin} – ${segments[1].destination}`}\n                        </span>\n                        <span>\n                            {`\n                    ${timeOut.departureHour}:${timeOut.departureMinutes} – \n                    ${timeOut.arrivalHour}:${timeOut.arrivalMinutes} \n                    `}\n                        </span>\n                    </div>\n\n                    <div className=\"ticket__inner\">\n                        <span className=\"ticket__subtitle\">В пути</span>\n                        <span>\n                            {`\n                        ${timeOut.durationHours}ч ${timeOut.durationMinutes}м\n                    `}\n                        </span>\n                    </div>\n\n                    <div className=\"ticket__inner\">\n                        <span className=\"ticket__subtitle\">{`${transfersText[segments[1].stops.length]}`}</span>\n                        <span>\n                            {segments[1].stops.join()}\n                        </span>\n                    </div>\n\n\n                </div>\n\n\n            </li>\n    )\n}\n\nexport default Ticket;\n","import React from 'react';\nimport './TicketsList.scss';\nimport Ticket from '../Ticket/Ticket';\n\nconst TicketsList = ({ tickets }) => {\n    const newTickets = tickets.slice(0,5).map(ticket => <Ticket {...ticket} key={ticket.price + ticket.carrier}/>)\n\n   \n    return (\n    \n        <ul>\n            {\n            \n            newTickets\n            }\n\n        </ul>\n    \n    )\n}\n\nexport default TicketsList;\n","\nimport * as axios from 'axios';\nimport axiosRetry from 'axios-retry';\n\n\n\nconst instance = axios.create({\n    baseURL: 'https://front-test.beta.aviasales.ru/',\n})\n\naxiosRetry(instance, { retries: 2 });\n\nexport const API = {\n\n    getSearchId() {\n     return instance.get(`search`);\n    },\n    getTickets(id) {\n        return instance.get(`tickets?searchId=${id}`);\n    },\n\n}","export const filtration = (filters, items) => {\n\n    let newItems = items;\n    if (filters.price === 'isCheap') {\n        newItems = newItems.sort((a, b) => a.price - b.price)\n        if (filters.all) {\n            return newItems\n        } else if (filters.no) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 0)\n        } else if (filters.one) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 1)\n        } else if (filters.two) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 2)\n        } else if (filters.three) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 3)\n        }\n\n        return newItems\n    } else if (filters.price === 'isFast') {\n        newItems = newItems.sort((a, b) => a.segments[0].duration - b.segments[0].duration);\n        if (filters.all) {\n            return newItems\n        } else if (filters.no) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 0)\n        } else if (filters.one) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 1)\n        } else if (filters.two) {\n            newItems = newItems.filter(item => item.segments[0].stops.length === 2)\n        } else if (filters.three) {\n            newItems = newItems = newItems.filter(item => item.segments[0].stops.length === 3)\n        }\n        return newItems\n    }\n}\n\nexport const checkboxToggle = (filter, filters) => {\n\n    let newFilters = { ...filters, [filter]: !filters[filter] }\n\n    if (filter === 'isFast' || filter === 'isCheap') {\n        newFilters.price = filter\n    }\n    if (filter === 'all' && filters.all === false) {\n        for (let i in newFilters) {\n            if (typeof newFilters[i] === \"boolean\") {\n                newFilters[i] = true;\n            }\n        }\n    } else if (filter === 'all' && filters.all === true) {\n        for (let i in newFilters) {\n            if (typeof newFilters[i] === \"boolean\") {\n                newFilters[i] = false;\n            }\n        }\n    }\n    return newFilters\n}","import { API } from \"../Api/api\";\nimport { filtration } from \"../utils/filters\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\nconst GET_SEARCHING_ID = 'GET_SEARCHING_ID';\nconst GET_TICKETS_SUCCESS = 'GET_TICKETS_SUCCESS';\nconst FILTER_SUCCESS = 'FILTER_SUCCESS';\n\nlet initialState = {\n    initialized: false,\n    searchId: null,\n    tickets: [],\n    stop: false,\n}\n\nconst appReduser = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n        case GET_SEARCHING_ID:\n            return {\n                ...state,\n                searchId: action.payload\n            }\n\n        case GET_TICKETS_SUCCESS:\n            return {\n                ...state,\n                tickets: state.tickets.concat(action.payload.data),\n                stop: action.payload.stop\n            }\n\n        case FILTER_SUCCESS:\n            return {\n                ...state,\n                tickets: filtration(action.payload, state.tickets)\n            }\n        default:\n            return state\n    }\n}\n\nexport const setInitializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\nexport const getSearchingIdSuccess = (id) => ({ type: GET_SEARCHING_ID, payload: id });\nexport const getTicketsSuccess = (data, stop) => ({ type: GET_TICKETS_SUCCESS, payload: { data: data, stop: stop } });\nexport const filterSuccess = (filters) => ({ type: FILTER_SUCCESS, payload: filters });\n\n\n\n\nexport const getSearchId = () => {\n    return async dispatch => {\n        let id = await API.getSearchId()\n        dispatch(getSearchingIdSuccess(id.data.searchId))\n        dispatch(getTickets(id.data.searchId))\n    }\n}\n\nexport const getTickets = (id) => {\n    return async dispatch => {\n\n        let data = await API.getTickets(id)\n        if(data.status === 200) {\n            dispatch(getTicketsSuccess(data.data.tickets, data.data.stop))\n            dispatch(setInitializedSuccess())\n        }\n        \n        while (data.data.stop === false) {\n            data = await API.getTickets(id)\n            dispatch(getTicketsSuccess(data.data.tickets, data.data.stop))\n\n        }\n\n    }\n}\n\n\n\nexport default appReduser;","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport TransferFilter from './Components/TransferFilter/TransferFilter';\nimport PriceFilter from './Components/PriceFilter/PriceFilter';\nimport TicketsList from './Components/TicketsList/TicketsList';\nimport { connect } from 'react-redux';\nimport { getSearchId, filterSuccess, getTickets } from './Store/appReduser';\nimport { filtration, checkboxToggle } from './utils/filters';\n\nimport logo from './assets/imgs/logo.svg';\nimport Preloader from './Components/Preloader/Preloader';\n\n\nconst App = ({ tickets, getSearchId, initialized, filterSuccess, searchId, stop }) => {\n\n  let [filters, setFilters] = useState({\n    price: 'isCheap',\n    all: false,\n    no: false,\n    one: false,\n    two: false,\n    three: false,\n  })\n\n  let [newTickets, setNewTickets] = useState(null)\n\n  useEffect(() => {\n    getSearchId()\n    getTickets(searchId)\n  }, [])\n\n  useEffect(() => {\n    setNewTickets(tickets)\n  }, [tickets])\n\n  const onFilterChangeHandler = (e) => {\n    let filter = e.target.id\n    let newFilters = checkboxToggle(filter, filters)\n    setFilters(newFilters)\n    \n    setNewTickets(filtration(newFilters, tickets))\n\n  }\n\n  return (\n\n    <div className=\"app\">\n     \n      <img src={logo} alt={'logo'} className={`${!initialized && 'animate'}`} />\n      {initialized && <div className=\"app__container\">\n          <div className=\"sidebar\">\n            <TransferFilter filters={filters} onChange={onFilterChangeHandler} />\n          </div>\n          <div className=\"content\">\n            <PriceFilter filters={filters} onChange={onFilterChangeHandler} />\n            <TicketsList tickets={newTickets} filters={filters} />\n          </div>\n\n\n        </div>\n       }\n    </div>\n\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n  searchId: state.app.searchId,\n  tickets: state.app.tickets,\n  stop: state.app.stop\n})\n\nexport default connect(mapStateToProps, { getSearchId, filterSuccess, getTickets })(App);\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport appReduser from \"./appReduser\";\n\n\n\nlet reducers = combineReducers({\n    app: appReduser,\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './Store/store';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";"],"sourceRoot":""}